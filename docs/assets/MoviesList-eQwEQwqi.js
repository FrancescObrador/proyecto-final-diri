import{r,j as e}from"./index-BP2_xDw6.js";const d=[{adult:!1,backdrop_path:"/path1.jpg",genre_ids:[1,2,3],id:1,original_language:"es",original_title:"Película 1",overview:"Descripción de la película 1",popularity:8.5,poster_path:"/proyecto-final-diri/images/stab.jpg",release_date:new Date("2019-08-15"),title:"Stab",video:!1,vote_average:7.5,vote_count:1e3},{adult:!1,backdrop_path:"/path2.jpg",genre_ids:[2,3,4],id:2,original_language:"en",original_title:"Movie 2",overview:"Description of movie 2",popularity:7.8,poster_path:"/proyecto-final-diri/images/stab.jpg",release_date:new Date("2020-12-03"),title:"Beyond the Stars",video:!1,vote_average:8,vote_count:1200},{adult:!1,backdrop_path:"/path3.jpg",genre_ids:[1,4],id:3,original_language:"fr",original_title:"Film 3",overview:"Description du film 3",popularity:6.9,poster_path:"/proyecto-final-diri/images/stab.jpg",release_date:new Date("2021-04-22"),title:"Echoes of Tomorrow",video:!1,vote_average:6.5,vote_count:800},{adult:!1,backdrop_path:"/path4.jpg",genre_ids:[2,5],id:4,original_language:"it",original_title:"Film 4",overview:"Descrizione del film 4",popularity:7.2,poster_path:"/proyecto-final-diri/images/stab.jpg",release_date:new Date("2022-11-08"),title:"The Last Cipher",video:!1,vote_average:7.8,vote_count:950},{adult:!1,backdrop_path:"/path5.jpg",genre_ids:[3,5],id:5,original_language:"de",original_title:"Film 5",overview:"Beschreibung von Film 5",popularity:8.1,poster_path:"/proyecto-final-diri/images/stab.jpg",release_date:new Date("2023-02-14"),title:"Whispers in the Wind",video:!1,vote_average:8.2,vote_count:1100}],p="https://api.themoviedb.org/3";class g{async fetchFromAPI(t){let a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhOTA0YmY4OGEwODc0ODg3MDNhNTdmNGJmZmYwMTliNyIsIm5iZiI6MTczOTAzMzE3MS4xOTM5OTk4LCJzdWIiOiI2N2E3OGE1MzVmYTQyZDdlNzZmMTFiODYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.mzClWScnVaDlNgieVlrE-0-0bX48AukSJYBPnY5OUHc"}};const i=await fetch(`${p}${t}`,a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}async getPopularMovies(t=1){return await new Promise(a=>setTimeout(a,2e3)),await this.fetchFromAPI(`/movie/popular?language=es-ES&page=${t}`)}async getFakeMovies(){return{page:1,total_pages:10,total_results:10,results:d}}async getMovieDetails(t){return await this.fetchFromAPI(`/movie/${t}`)}async searchMovies(t,a=1){return await this.fetchFromAPI(`/search/movie&query=${encodeURIComponent(t)}&page=${a}`)}async getTopRatedMovies(t=1){return await this.fetchFromAPI(`/movie/top_rated&page=${t}`)}async getUpcomingMovies(t=1){return await this.fetchFromAPI(`/movie/upcoming&page=${t}`)}async getNowPlayingMovies(t=1){return await this.fetchFromAPI(`/movie/now_playing&page=${t}`)}}const m=new g,h=({movie:o})=>{const[t,a]=r.useState(!1),[i,l]=r.useState("Otros"),[s,c]=r.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[!s&&e.jsx("div",{className:"skeleton w-30 h-45"}),e.jsx("img",{className:`w-12 md:w-30 rounded-xl transition-all duration-300 ${t?"brightness-50":""} ${s?"":"hidden"}`,src:`https://image.tmdb.org/t/p/w200${o.poster_path}`,onLoad:()=>c(!0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx("h1",{className:"text text-xs md:text-xl font-semibold",children:o.title}),t&&e.jsx("span",{className:"hidden md:visible badge badge-accent badge-xxs md:badge-sm",children:new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),e.jsx("div",{className:"text uppercase font-semibold opacity-60",children:new Date(o.release_date).toLocaleDateString("es-ES",{year:"numeric"})}),e.jsxs("div",{className:"text uppercase font-semibold opacity-60",children:[o.vote_average," ⭐"]})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("label",{className:"label label-xxs md:label-md cursor-pointer justify-end",children:[e.jsx("span",{className:"label-text",children:"Vista"}),e.jsx("input",{type:"checkbox",className:"toggle",checked:t,onChange:n=>a(n.target.checked)})]}),e.jsxs("select",{className:"select cursor-pointe md:select-md",value:i,onChange:n=>l(n.target.value),style:{visibility:t?"visible":"hidden"},children:[e.jsx("option",{disabled:!0,value:"",children:"Plataforma"}),e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Amazon Prime",children:"Amazon Prime"}),e.jsx("option",{value:"HBO Max",children:"HBO Max"}),e.jsx("option",{value:"Disney+",children:"Disney+"}),e.jsx("option",{value:"Cine",children:"Cine"}),e.jsx("option",{value:"Other",children:"Otra"})]})]})]})},u=()=>{const[o,t]=r.useState([]),[a,i]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{i(!0);const s=await m.getPopularMovies();t(s.results)}catch(s){console.error("Error fetching movies:",s)}finally{i(!1)}})()},[]),e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen space-y-2",children:[e.jsx("div",{className:"loading loading-lg text-primary"}),e.jsx("h1",{children:"Loading movies..."})]}):e.jsx("ul",{className:"list bg-base-100 rounded-box shadow-xl m-4",children:o.map((l,s)=>e.jsx("li",{className:"list-row",children:e.jsx(h,{movie:l})},s))})})};export{u as default};
