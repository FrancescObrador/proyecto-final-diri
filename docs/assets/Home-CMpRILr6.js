import{u as o,r as x,j as e,M as d,a as c,b as u,f as j,C as v}from"./index-Y56gLbD4.js";const f=({media:s})=>{const n=o(),[i,r]=x.useState(!1),a=s.media_type==="tv"?s.name:s.title,m=s.media_type==="tv"?new Date(s.first_air_date).toLocaleDateString("es-ES",{year:"numeric"}):new Date(s.release_date).toLocaleDateString("es-ES",{year:"numeric"}),p=new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),h=t=>{const l={id:s.id,seen:t,addedAt:s.addedAt,platform:s.platform||"Otros",media_type:s.media_type};n(c(l))},g=t=>{const l={id:s.id,seen:s.seen,addedAt:s.addedAt,platform:t,media_type:s.media_type};n(c(l))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[!i&&e.jsx("div",{className:"skeleton w-12 md:w-22"}),e.jsx("img",{className:`w-12 md:w-22 rounded-xl transition-all duration-300 ${s.seen?"brightness-50":""} ${i?"":"hidden"}`,src:`https://image.tmdb.org/t/p/w200${s.poster_path}`,onLoad:()=>r(!0),alt:a})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx("h1",{className:"text text-xs md:text-xl font-semibold truncate",children:a}),s.seen&&e.jsx("span",{className:"invisible md:visible badge badge-accent badge-xs md:badge-sm",children:p})]}),e.jsx("div",{className:"text uppercase font-semibold opacity-60",children:e.jsx("div",{className:"flex gap-2",children:m})}),e.jsxs("div",{className:"text uppercase font-semibold opacity-60",children:[s.vote_average.toFixed(1)," ⭐"]}),e.jsx("div",{className:"hidden md:flex space-x-1",children:s.genres.map((t,l)=>e.jsx("div",{className:"badge badge-sm badge-outline badge-secondary",children:t.name},l))})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("label",{className:"swap swap-rotate label-xs md:label-md cursor-pointer justify-end",children:[e.jsx("input",{type:"checkbox",checked:s.seen,onChange:t=>h(t.target.checked)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"swap-on size-8 fill-current",viewBox:"0 -960 960 960",fill:"#e3e3e3",children:e.jsx("path",{d:"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"swap-off size-8 fill-current",viewBox:"0 -960 960 960",fill:"#e3e3e3",children:e.jsx("path",{d:"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})]}),e.jsxs("select",{className:`select cursor-pointer select-xs md:select-md w-22 md:w-auto ${s.seen?"flex":"hidden"}`,value:s.platform||"Otros",onChange:t=>g(t.target.value),children:[e.jsx("option",{disabled:!0,value:"",children:e.jsx(d,{id:"platform"})}),e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Amazon Prime",children:"Amazon Prime"}),e.jsx("option",{value:"HBO Max",children:"HBO Max"}),e.jsx("option",{value:"Disney+",children:"Disney+"}),e.jsx("option",{value:"Cine",children:"Cine"}),e.jsx("option",{value:"Otros",children:"Otra"})]})]})]})},w=()=>{const s=o(),{media:n,loading:i,error:r}=u(a=>a.media);return x.useEffect(()=>{s(j())},[s]),i?e.jsx(v,{messages:["Writing the scripts...","Filming the movies..."]}):r?e.jsx("div",{className:"text-center p-4 text-error",children:e.jsx(d,{id:"error-fetching-media"})}):e.jsx(e.Fragment,{children:n.length===0?e.jsx("div",{className:"text-center p-4",children:e.jsx("p",{className:"text-xl",children:e.jsx(d,{id:"movies-empty"})})}):e.jsx("ul",{className:"list bg-base-100 rounded-box shadow-xl m-4",children:n.map(a=>e.jsx("li",{className:"list-row",children:e.jsx(f,{media:a})},a.id))})})},b=()=>e.jsx(e.Fragment,{children:e.jsx(w,{})});export{b as default};
